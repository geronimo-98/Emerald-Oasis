{"ast":null,"code":"import _slicedToArray from\"F:/Github/Emerald-Oasis/naitik_rathor/react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"axios\";import{useState}from\"react\";import{useLocation,useNavigate}from\"react-router\";import{toast}from\"react-toastify\";import{URL}from\"../../../../config\";import AdminHeader from\"../../../../components/AdminHeader/adminHeader\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EditFood=function EditFood(){var _useLocation=useLocation(),state=_useLocation.state;var cuisineId=state.cuisineId,food=state.food,cuisName=state.cuisName;var _useState=useState(food.name),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(food.image),_useState4=_slicedToArray(_useState3,2),image=_useState4[0],setImage=_useState4[1];var _useState5=useState(food.description),_useState6=_slicedToArray(_useState5,2),description=_useState6[0],setDescription=_useState6[1];var _useState7=useState(food.price),_useState8=_slicedToArray(_useState7,2),price=_useState8[0],setPrice=_useState8[1];var _useState9=useState(food.quantity),_useState10=_slicedToArray(_useState9,2),quantity=_useState10[0],setQuantity=_useState10[1];// console.log(food.name)\n// console.log(cuisineId)\nvar navigate=useNavigate();var updateFoodItem=function updateFoodItem(){if(description.length>150){toast.warn(\"Description is too long\");}else{var body={foodItemId:food.foodItemId,name:name,image:image,description:description,price:price,quantity:quantity,cuisineId:cuisineId};var url=\"\".concat(URL,\"/admin/addfooditem\");axios.post(url,body).then(function(response){var result=response.data;// console.log(result)\nif(result['status']==='success'){toast.success('Food Item Updated');navigate('/allFoods',{state:{id:cuisineId,cuisName:cuisName}});}else{toast.error(result['error']);}});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(AdminHeader,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"main-div\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"row emp-details\",children:\"Edit Food Details\"}),/*#__PURE__*/_jsxs(\"div\",{class:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col input-group mb-4 \",children:[/*#__PURE__*/_jsx(\"span\",{class:\"input-group-text \",children:\"Food Name\"}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){setName(e.target.value);},defaultValue:food.name,type:\"text\",class:\"form-control\",\"aria-describedby\":\"inputGroup-sizing-default\"})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"col input-group mb-4\",children:[/*#__PURE__*/_jsx(\"span\",{class:\"input-group-text \",children:\"Image Link\"}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){setImage(e.target.value);},defaultValue:food.image,type:\"text\",class:\"form-control\",\"aria-describedby\":\"inputGroup-sizing-default\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col input-group mb-4 \",children:[/*#__PURE__*/_jsx(\"span\",{class:\"input-group-text \",children:\"Price\"}),/*#__PURE__*/_jsx(\"span\",{class:\"input-group-text \",children:\"Rs\"}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){setPrice(e.target.value);},defaultValue:food.price,type:\"number\",class:\"form-control input-number\",\"aria-describedby\":\"inputGroup-sizing-default\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"col input-group mb-4\",children:[/*#__PURE__*/_jsx(\"span\",{class:\"input-group-text \",children:\"Quantity\"}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){setQuantity(e.target.value);},defaultValue:food.quantity,type:\"number\",class:\"form-control\",\"aria-describedby\":\"inputGroup-sizing-default\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"label\",{class:\"form-label\",children:\"Description\"}),/*#__PURE__*/_jsxs(\"div\",{class:\"col form-floating mb-4\",children:[/*#__PURE__*/_jsx(\"textarea\",{onChange:function onChange(e){setDescription(e.target.value);},defaultValue:food.description,type:\"text\",class:\"form-control\",id:\"floatingInput\"}),/*#__PURE__*/_jsx(\"label\",{for:\"floatingInput\",children:\" description\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6 btn-group\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"btn btn-outline-success\",onClick:updateFoodItem,children:\"UPDATE\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"btn btn-outline-secondary\",onClick:function onClick(){toast.warn(\"No Changes\");navigate('/allFoods',{state:{id:cuisineId,cuisName:cuisName}});},children:\"CANCEL\"})]})]})]});};export default EditFood;","map":{"version":3,"sources":["F:/Github/Emerald-Oasis/naitik_rathor/react-app/src/pages/adminSide/ManageCuis/EditFood/editFood.js"],"names":["axios","useState","useLocation","useNavigate","toast","URL","AdminHeader","EditFood","state","cuisineId","food","cuisName","name","setName","image","setImage","description","setDescription","price","setPrice","quantity","setQuantity","navigate","updateFoodItem","length","warn","body","foodItemId","url","post","then","response","result","data","success","id","error","e","target","value"],"mappings":"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","sourcesContent":["import axios from \"axios\"\r\nimport { useState } from \"react\"\r\nimport { useLocation, useNavigate } from \"react-router\"\r\nimport { toast } from \"react-toastify\"\r\nimport { URL } from \"../../../../config\"\r\nimport AdminHeader from \"../../../../components/AdminHeader/adminHeader\"\r\n\r\nconst EditFood = () => {\r\n    const { state } = useLocation()\r\n    const { cuisineId, food, cuisName } = state\r\n    const [name, setName] = useState(food.name)\r\n    const [image, setImage] = useState(food.image)\r\n    const [description, setDescription] = useState(food.description)\r\n    const [price, setPrice] = useState(food.price)\r\n    const [quantity, setQuantity] = useState(food.quantity)\r\n\r\n    // console.log(food.name)\r\n\r\n    // console.log(cuisineId)\r\n\r\n    const navigate = useNavigate()\r\n\r\n    const updateFoodItem = () => {\r\n        if (description.length > 150) {\r\n            toast.warn(\"Description is too long\")\r\n        } else {\r\n            const body = {\r\n                foodItemId: food.foodItemId,\r\n                name,\r\n                image,\r\n                description,\r\n                price,\r\n                quantity,\r\n                cuisineId: cuisineId\r\n            }\r\n\r\n            const url = `${URL}/admin/addfooditem`\r\n\r\n            axios.post(url, body).then((response) => {\r\n                const result = response.data\r\n                // console.log(result)\r\n                if (result['status'] === 'success') {\r\n                    toast.success('Food Item Updated')\r\n                    navigate('/allFoods', { state: { id: cuisineId, cuisName: cuisName } })\r\n                }\r\n                else {\r\n                    toast.error(result['error'])\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <AdminHeader></AdminHeader>\r\n            <div className=\"main-div\">\r\n                <label className=\"row emp-details\">Edit Food Details</label>\r\n                <div class=\"row\">\r\n                    <div className=\"col input-group mb-4 \">\r\n                        <span class=\"input-group-text \" >Food Name</span>\r\n                        <input onChange={(e) => {\r\n                            setName(e.target.value)\r\n                        }} defaultValue={food.name} type=\"text\" class=\"form-control\" aria-describedby=\"inputGroup-sizing-default\" />\r\n                    </div>\r\n                    <div class=\"col input-group mb-4\">\r\n                        <span class=\"input-group-text \" >Image Link</span>\r\n                        <input onChange={(e) => {\r\n                            setImage(e.target.value)\r\n                        }} defaultValue={food.image} type=\"text\" class=\"form-control\" aria-describedby=\"inputGroup-sizing-default\" />\r\n                    </div>\r\n                </div>\r\n                <div class=\"row\">\r\n                    <div className=\"col input-group mb-4 \">\r\n                        <span class=\"input-group-text \" >Price</span>\r\n                        <span class=\"input-group-text \" >Rs</span>\r\n                        <input onChange={(e) => {\r\n                            setPrice(e.target.value)\r\n                        }} defaultValue={food.price} type=\"number\" class=\"form-control input-number\" aria-describedby=\"inputGroup-sizing-default\" />\r\n                    </div>\r\n                    <div className=\"col\">\r\n                        <div className=\"row\">\r\n                            <div class=\"col input-group mb-4\">\r\n                                <span class=\"input-group-text \" >Quantity</span>\r\n                                <input onChange={(e) => {\r\n                                    setQuantity(e.target.value)\r\n                                }} defaultValue={food.quantity} type=\"number\" class=\"form-control\" aria-describedby=\"inputGroup-sizing-default\" />\r\n                            </div>\r\n                            <div className=\"col\"></div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                    <label class=\"form-label\">Description</label>\r\n                    <div class=\"col form-floating mb-4\">\r\n                        <textarea onChange={(e) => {\r\n                            setDescription(e.target.value)\r\n                        }} defaultValue={food.description} type=\"text\" class=\"form-control\" id=\"floatingInput\" />\r\n                        <label for=\"floatingInput\"> description</label>\r\n                    </div>\r\n                    <div className=\"col\"></div>\r\n                </div>\r\n                <div className=\"col-md-6 btn-group\">\r\n                    <button type=\"button\" class=\"btn btn-outline-success\" onClick={updateFoodItem}>UPDATE</button>\r\n                    <button type=\"button\" class=\"btn btn-outline-secondary\" onClick={() => {\r\n                        toast.warn(\"No Changes\")\r\n                        navigate('/allFoods', { state: { id: cuisineId, cuisName: cuisName } })\r\n                    }}>CANCEL</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default EditFood"]},"metadata":{},"sourceType":"module"}