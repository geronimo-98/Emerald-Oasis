{"ast":null,"code":"import _slicedToArray from\"F:/Github/Emerald-Oasis/naitik_rathor/react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useLocation,useNavigate}from\"react-router-dom\";import{useEffect,useState}from\"react\";import{toast}from\"react-toastify\";import axios from\"axios\";import{URL}from\"../../../../config\";import AdminHeader from\"../../../../components/AdminHeader/adminHeader\";import{formatDate}from\"../../../../utils\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EmpDetails=function EmpDetails(){var _useLocation=useLocation(),state=_useLocation.state;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),userDetails=_useState2[0],setUserDetails=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),empDetails=_useState4[0],setEmpDetails=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),salary=_useState6[0],setSalary=_useState6[1];var navigate=useNavigate();var id=state.id;var getUserDetails=function getUserDetails(){var url=\"\".concat(URL,\"/admin/getuser/\").concat(id);axios.get(url).then(function(response){var result=response.data;if(result['status']=='success'){setUserDetails(result['data']);}else{toast.error(result['error']);}});};var getEmpDetails=function getEmpDetails(){var url1=\"\".concat(URL,\"/admin/employeedetails/\").concat(id);axios.get(url1).then(function(response){var result=response.data;// console.log(result.data)\nif(result.status==='success'){setEmpDetails(result.data);}else{console.log(result.error);toast.error(result['error']);}});};var deleteEmp=function deleteEmp(){if(window.confirm(\"This Employee will be Deleted\\nAre You Sure?\")){var url=\"\".concat(URL,\"/admin/deleteuser/\").concat(userDetails.userId);axios.delete(url).then(function(response){var result=response.data;if(result.status==='success'){toast.success(\"Employee Deleted\");navigate('/employees');}else{console.log(result.error);toast.error(result['error']);}});}};var getEmpId=function getEmpId(){navigate('/empAllOrder',{state:{empId:userDetails.userId,empName:userDetails.firstName}});// console.log(userDetails.userId)\n};var confirmStatus=function confirmStatus(){var url=\"\".concat(URL,\"/admin/employee/confirmstatus/\").concat(userDetails.userId);axios.put(url).then(function(response){var result=response.data;// console.log(result)\nif(result['status']==='success'){toast.success('Updated Successfully');window.location.reload(false);}else{toast.error(result['error']);}});};var revokeStatus=function revokeStatus(){var url=\"\".concat(URL,\"/admin/employee/revokestatus/\").concat(userDetails.userId);axios.put(url).then(function(response){var result=response.data;// console.log(result)\nif(result['status']==='success'){toast.success('Updated Successfully');window.location.reload(false);}else{toast.error(result['error']);}});};useEffect(function(){getUserDetails();getEmpDetails();},[]);var editSalary=function editSalary(){if(salary==0){toast.warn(\"No Changes\");navigate('/employees');}else{var body={employeeId:id,salary:salary};var url2=\"\".concat(URL,\"/admin/employee/editsalary\");axios.put(url2,body).then(function(response){var result=response.data;// console.log(result)\nif(result['status']==='success'){toast.success('Updated Successfully');navigate('/employees');}else{toast.error(result['error']);}});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(AdminHeader,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"main-div\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"emp-details\",children:\"Employee Details\"}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group col-md-5\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"inputId\",children:\"Employee Id\"}),/*#__PURE__*/_jsx(\"input\",{class:\"form-control\",type:\"text\",id:\"inputfirstName\",value:userDetails.userId,\"aria-label\":\"Disabled input example\",disabled:true,readonly:true})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-5 text-center \",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-success\",type:\"button\",onClick:getEmpId,children:\"All Orders\"})})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group col-md-5\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"inputfirstName\",children:\"First Name\"}),/*#__PURE__*/_jsx(\"input\",{class:\"form-control\",type:\"text\",id:\"inputfirstName\",value:userDetails.firstName,\"aria-label\":\"Disabled input example\",disabled:true,readonly:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group col-md-5\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"inputlastName\",children:\"Last Name\"}),/*#__PURE__*/_jsx(\"input\",{class:\"form-control\",type:\"text\",id:\"inputlastName\",value:userDetails.lastName,\"aria-label\":\"Disabled input example\",disabled:true,readonly:true})]})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group col-md-5\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"inputEmail\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{class:\"form-control\",type:\"text\",id:\"inputEmail\",value:userDetails.email,\"aria-label\":\"Disabled input example\",disabled:true,readonly:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group col-md-5\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"inputPhoneNumber\",children:\"Phone Number\"}),/*#__PURE__*/_jsx(\"input\",{class:\"form-control\",type:\"text\",id:\"inputPhoneNumber\",value:userDetails.phoneNo,\"aria-label\":\"Disabled input example\",disabled:true,readonly:true})]})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group col-md-5\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"inputBirthDate\",children:\"Birth Date\"}),/*#__PURE__*/_jsx(\"input\",{class:\"form-control\",type:\"date\",id:\"inputBirthDate\",value:formatDate(userDetails.birthdate),\"aria-label\":\"Disabled input example\",disabled:true,readonly:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group col-md-5\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"inputGender\",children:\"Gender\"}),/*#__PURE__*/_jsx(\"input\",{class:\"form-control\",type:\"text\",id:\"inputGender\",value:userDetails.gender,\"aria-label\":\"Disabled input example\",disabled:true,readonly:true})]})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group col-10\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"inputAddress\",children:\"Address\"}),/*#__PURE__*/_jsx(\"input\",{class:\"form-control\",type:\"text\",id:\"inputAddress\",value:userDetails.addressLine,\"aria-label\":\"Disabled input example\",disabled:true,readonly:true})]})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group col-md-5\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"inputJoinDate\",children:\"Join Date\"}),/*#__PURE__*/_jsx(\"input\",{class:\"form-control\",type:\"text\",id:\"inputJoinDate\",value:empDetails.joinDate,\"aria-label\":\"Disabled input example\",disabled:true,readonly:true})]})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group col-md-5\",children:[empDetails.employeeStatus!=\"CONFIRMED\"&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:confirmStatus,className:\"btn btn-success\",children:\"Confirm employee\"}),empDetails.employeeStatus==\"CONFIRMED\"&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:revokeStatus,className:\"btn btn-danger\",children:\"Revoke employee\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group col-md-5\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"inputSalary\",children:\"Salary\"}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){setSalary(e.target.value);},class:\"form-control\",type:\"number\",id:\"inputSalary\",placeholder:empDetails.salary,\"aria-describedby\":\"button-addon2\"}),/*#__PURE__*/_jsx(\"br\",{})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-5\",children:/*#__PURE__*/_jsx(\"button\",{class:\"btn btn-danger\",type:\"button\",id:\"button-addon2\",onClick:deleteEmp,children:\"Delete Employee\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-5\",children:/*#__PURE__*/_jsx(\"button\",{class:\"btn btn-success\",type:\"button\",id:\"button-addon2\",onClick:editSalary,children:\"Update Salary\"})})]})]})]})]});};export default EmpDetails;","map":{"version":3,"sources":["F:/Github/Emerald-Oasis/naitik_rathor/react-app/src/pages/adminSide/ManageEmp/EmpDetaills/empDetails.js"],"names":["useLocation","useNavigate","useEffect","useState","toast","axios","URL","AdminHeader","formatDate","EmpDetails","state","userDetails","setUserDetails","empDetails","setEmpDetails","salary","setSalary","navigate","id","getUserDetails","url","get","then","response","result","data","error","getEmpDetails","url1","status","console","log","deleteEmp","window","confirm","userId","delete","success","getEmpId","empId","empName","firstName","confirmStatus","put","location","reload","revokeStatus","editSalary","warn","body","employeeId","url2","lastName","email","phoneNo","birthdate","gender","addressLine","joinDate","employeeStatus","e","target","value"],"mappings":"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","sourcesContent":["import { useLocation, useNavigate } from \"react-router-dom\"\r\nimport { useEffect, useState } from \"react\"\r\nimport { toast } from \"react-toastify\"\r\nimport axios from \"axios\"\r\nimport { URL } from \"../../../../config\"\r\nimport AdminHeader from \"../../../../components/AdminHeader/adminHeader\"\r\nimport { formatDate } from \"../../../../utils\"\r\n\r\n\r\n\r\nconst EmpDetails = () => {\r\n    const { state } = useLocation()\r\n    const [userDetails, setUserDetails] = useState([])\r\n    const [empDetails, setEmpDetails] = useState([])\r\n    const [salary, setSalary] = useState('')\r\n    const navigate = useNavigate()\r\n\r\n    const { id } = state\r\n\r\n\r\n    const getUserDetails = () => {\r\n        const url = `${URL}/admin/getuser/${id}`\r\n        axios.get(url).then((response) => {\r\n            const result = response.data\r\n            if (result['status'] == 'success') {\r\n                setUserDetails(result['data'])\r\n            } else {\r\n                toast.error(result['error'])\r\n            }\r\n        })\r\n    }\r\n\r\n    const getEmpDetails = () => {\r\n        const url1 = `${URL}/admin/employeedetails/${id}`\r\n\r\n        axios.get(url1).then((response) => {\r\n            const result = response.data\r\n            // console.log(result.data)\r\n            if (result.status === 'success') {\r\n                setEmpDetails(result.data)\r\n            } else {\r\n                console.log(result.error)\r\n                toast.error(result['error'])\r\n            }\r\n        })\r\n    }\r\n\r\n    const deleteEmp=()=>{\r\n        if(window.confirm(\"This Employee will be Deleted\\nAre You Sure?\")){\r\n          \r\n            const url =`${URL}/admin/deleteuser/${userDetails.userId}`\r\n\r\n            axios.delete(url).then((response) => {\r\n                const result = response.data\r\n                if (result.status === 'success') {\r\n                    toast.success(\"Employee Deleted\")\r\n                    navigate('/employees')\r\n                } else {\r\n                    console.log(result.error)\r\n                    toast.error(result['error'])\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n    const getEmpId=()=>{\r\n        navigate('/empAllOrder', { state: { empId: userDetails.userId, empName: userDetails.firstName }})\r\n        // console.log(userDetails.userId)\r\n    }\r\n\r\n    const confirmStatus = () => {\r\n        const url = `${URL}/admin/employee/confirmstatus/${userDetails.userId}`\r\n        axios.put(url).then((response) => {\r\n            const result = response.data\r\n            // console.log(result)\r\n            if (result['status'] === 'success') {\r\n                toast.success('Updated Successfully')\r\n                window.location.reload(false)\r\n            }\r\n            else {\r\n                toast.error(result['error'])\r\n            }\r\n        })\r\n    }\r\n\r\n    const revokeStatus = () => {\r\n        const url = `${URL}/admin/employee/revokestatus/${userDetails.userId}`\r\n        axios.put(url).then((response) => {\r\n            const result = response.data\r\n            // console.log(result)\r\n            if (result['status'] === 'success') {\r\n                toast.success('Updated Successfully')\r\n                window.location.reload(false)\r\n            }\r\n            else {\r\n                toast.error(result['error'])\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        getUserDetails()\r\n        getEmpDetails()\r\n    }, [])\r\n\r\n    const editSalary = () => {\r\n        if (salary == 0) {\r\n            toast.warn(\"No Changes\")\r\n            navigate('/employees')\r\n        } else {\r\n            const body = {\r\n                employeeId: id,\r\n                salary\r\n            }\r\n\r\n            const url2 = `${URL}/admin/employee/editsalary`\r\n\r\n            axios.put(url2, body).then((response) => {\r\n                const result = response.data\r\n                // console.log(result)\r\n                if (result['status'] === 'success') {\r\n                    toast.success('Updated Successfully')\r\n                    navigate('/employees')\r\n                }\r\n                else {\r\n                    toast.error(result['error'])\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <AdminHeader></AdminHeader>\r\n            <div className=\"main-div\">\r\n                <label className=\"emp-details\">Employee Details</label>\r\n\r\n                <form>\r\n                    <div className=\"row\">\r\n                        <div className=\"form-group col-md-5\">\r\n                            <label for=\"inputId\">Employee Id</label>\r\n                            <input\r\n                                class=\"form-control\"\r\n                                type=\"text\"\r\n                                id=\"inputfirstName\"\r\n                                value={userDetails.userId}\r\n                                aria-label=\"Disabled input example\" disabled readonly\r\n                            />\r\n                        </div>\r\n                        <div className=\"col-md-5 text-center \">\r\n                            <button className=\"btn btn-success\" type=\"button\" onClick={getEmpId} >All Orders</button>\r\n                        </div>\r\n                    </div>\r\n                    <br />\r\n                    <div className=\"row\">\r\n                        <div className=\"form-group col-md-5\">\r\n                            <label for=\"inputfirstName\">First Name</label>\r\n                            <input\r\n                                class=\"form-control\"\r\n                                type=\"text\"\r\n                                id=\"inputfirstName\"\r\n                                value={userDetails.firstName}\r\n                                aria-label=\"Disabled input example\" disabled readonly\r\n                            />\r\n                        </div>\r\n                        <div className=\"form-group col-md-5\">\r\n                            <label for=\"inputlastName\">Last Name</label>\r\n                            <input\r\n                                class=\"form-control\"\r\n                                type=\"text\"\r\n                                id=\"inputlastName\"\r\n                                value={userDetails.lastName}\r\n                                aria-label=\"Disabled input example\" disabled readonly\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <br />\r\n                    <div className=\"row\">\r\n                        <div className=\"form-group col-md-5\">\r\n                            <label for=\"inputEmail\">Email</label>\r\n                            <input\r\n                                class=\"form-control\"\r\n                                type=\"text\"\r\n                                id=\"inputEmail\"\r\n                                value={userDetails.email}\r\n                                aria-label=\"Disabled input example\" disabled readonly\r\n                            />\r\n                        </div>\r\n                        <div className=\"form-group col-md-5\">\r\n                            <label for=\"inputPhoneNumber\">Phone Number</label>\r\n                            <input\r\n                                class=\"form-control\"\r\n                                type=\"text\"\r\n                                id=\"inputPhoneNumber\"\r\n                                value={userDetails.phoneNo}\r\n                                aria-label=\"Disabled input example\" disabled readonly\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <br />\r\n                    <div className=\"row\">\r\n                        <div className=\"form-group col-md-5\">\r\n                            <label for=\"inputBirthDate\">Birth Date</label>\r\n                            <input\r\n                                class=\"form-control\"\r\n                                type=\"date\"\r\n                                id=\"inputBirthDate\"\r\n                                value={formatDate(userDetails.birthdate)}\r\n                                aria-label=\"Disabled input example\" disabled readonly\r\n                            />\r\n                        </div>\r\n                        <div className=\"form-group col-md-5\">\r\n                            <label for=\"inputGender\">Gender</label>\r\n                            <input\r\n                                class=\"form-control\"\r\n                                type=\"text\"\r\n                                id=\"inputGender\"\r\n                                value={userDetails.gender}\r\n                                aria-label=\"Disabled input example\" disabled readonly\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <br />\r\n                    <div className=\"row\">\r\n                        <div className=\"form-group col-10\">\r\n                            <label for=\"inputAddress\">Address</label>\r\n                            <input\r\n                                class=\"form-control\"\r\n                                type=\"text\"\r\n                                id=\"inputAddress\"\r\n                                value={userDetails.addressLine}\r\n                                aria-label=\"Disabled input example\" disabled readonly\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <br />\r\n                    <div className=\"row\">\r\n                        <div className=\"form-group col-md-5\">\r\n                            <label for=\"inputJoinDate\">Join Date</label>\r\n                            <input\r\n                                class=\"form-control\"\r\n                                type=\"text\"\r\n                                id=\"inputJoinDate\"\r\n                                value={empDetails.joinDate}\r\n                                aria-label=\"Disabled input example\" disabled readonly\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <br />\r\n\r\n                    <div className=\"row\">\r\n                        <div className=\"form-group col-md-5\">\r\n                            {empDetails.employeeStatus != \"CONFIRMED\" && <button type=\"button\" onClick={confirmStatus} className=\"btn btn-success\">Confirm employee</button>}\r\n                            {empDetails.employeeStatus == \"CONFIRMED\" && <button type=\"button\" onClick={revokeStatus} className=\"btn btn-danger\">Revoke employee</button>}\r\n                            {/* <label for=\"inputStatus\">Status</label>\r\n                            <input\r\n                                class=\"form-control\"\r\n                                type=\"text\"\r\n                                id=\"inputStatus\"\r\n                                placeholder={empDetails.employeeStatus}\r\n                                aria-describedby=\"button-addon2\"\r\n                            /> */}\r\n                        </div>\r\n                        <div className=\"form-group col-md-5\">\r\n                            <label for=\"inputSalary\">Salary</label>\r\n                            <input onChange={(e) => {\r\n                                setSalary(e.target.value)\r\n                            }}\r\n                                class=\"form-control\"\r\n                                type=\"number\"\r\n                                id=\"inputSalary\"\r\n                                placeholder={empDetails.salary}\r\n                                aria-describedby=\"button-addon2\"\r\n                            />\r\n                            <br />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                        <div className=\"col-md-5\">\r\n                            <button class=\"btn btn-danger\" type=\"button\" id=\"button-addon2\" onClick={deleteEmp} >Delete Employee</button>\r\n                        </div>\r\n                        <div className=\"col-md-5\">\r\n                            <button class=\"btn btn-success\" type=\"button\" id=\"button-addon2\" onClick={editSalary} >Update Salary</button>\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default EmpDetails"]},"metadata":{},"sourceType":"module"}