{"ast":null,"code":"import _slicedToArray from\"F:/Github/Emerald-Oasis/naitik_rathor/react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"axios\";import{useState}from\"react\";import{useLocation,useNavigate}from\"react-router\";import{toast}from\"react-toastify\";import AdminHeader from\"../../../../components/AdminHeader/adminHeader\";import{URL}from\"../../../../config\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EditCuisine=function EditCuisine(){var _useLocation=useLocation(),state=_useLocation.state;var cuisine=state.cuisine;var _useState=useState(cuisine.name),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(cuisine.image),_useState4=_slicedToArray(_useState3,2),image=_useState4[0],setImage=_useState4[1];var _useState5=useState(cuisine.description),_useState6=_slicedToArray(_useState5,2),description=_useState6[0],setDescription=_useState6[1];// console.log(cuisine);\n// console.log(cuisine.name);\nvar navigate=useNavigate();var updateCuisine=function updateCuisine(){// console.log(description.length);\nif(description.length>250){toast.warn(\"Description is too long\");}else{var body={cuisineId:cuisine.cuisineId,name:name,image:image,description:description};var url=\"\".concat(URL,\"/admin/addcuisine\");axios.post(url,body).then(function(response){var result=response.data;// console.log(result)\nif(result['status']==='success'){toast.success('Cuisine Updated');navigate('/cuisinesAll');}else{toast.error(result['error']);}});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(AdminHeader,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"main-div\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"emp-details\",children:\"Edit Cuisine\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"row mb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Cuisine Name\"}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){setName(e.target.value);},type:\"text\",className:\"form-control\",defaultValue:cuisine.name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Cuisine Image Link\"}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){setImage(e.target.value);},type:\"text\",className:\"form-control\",defaultValue:cuisine.image})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Cuisine Description\"}),/*#__PURE__*/_jsx(\"textarea\",{onChange:function onChange(e){setDescription(e.target.value);},className:\"form-control\",defaultValue:cuisine.description,rows:\"3\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6 mb-3 btn-group\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\" btn btn-outline-secondary\",onClick:updateCuisine,children:\"UPDATE\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\" btn btn-outline-secondary\",onClick:function onClick(){toast.warn('No Changes');navigate('/cuisinesAll');},children:\"Cancel\"})]})]})]});};export default EditCuisine;","map":{"version":3,"sources":["F:/Github/Emerald-Oasis/naitik_rathor/react-app/src/pages/adminSide/ManageCuis/EditCuisine/editCuisine.js"],"names":["axios","useState","useLocation","useNavigate","toast","AdminHeader","URL","EditCuisine","state","cuisine","name","setName","image","setImage","description","setDescription","navigate","updateCuisine","length","warn","body","cuisineId","url","post","then","response","result","data","success","error","e","target","value"],"mappings":"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","sourcesContent":["import axios from \"axios\"\r\nimport { useState } from \"react\"\r\nimport { useLocation, useNavigate } from \"react-router\"\r\nimport { toast } from \"react-toastify\"\r\nimport AdminHeader from \"../../../../components/AdminHeader/adminHeader\"\r\nimport { URL } from \"../../../../config\"\r\n\r\nconst EditCuisine = () => {\r\n    const { state } = useLocation()\r\n    const { cuisine } = state\r\n    const [name, setName] = useState(cuisine.name)\r\n    const [image, setImage] = useState(cuisine.image)\r\n    const [description, setDescription] = useState(cuisine.description)\r\n    \r\n\r\n    // console.log(cuisine);\r\n    // console.log(cuisine.name);\r\n\r\n\r\n    const navigate = useNavigate()\r\n\r\n    const updateCuisine = () => {\r\n        // console.log(description.length);\r\n        if(description.length>250){\r\n            toast.warn(\"Description is too long\")\r\n        }else{\r\n            const body = {\r\n                cuisineId: cuisine.cuisineId,\r\n                name,\r\n                image,\r\n                description,\r\n            }\r\n\r\n            const url = `${URL}/admin/addcuisine`\r\n\r\n            axios.post(url, body).then((response) => {\r\n                const result = response.data\r\n\r\n                // console.log(result)\r\n\r\n                if (result['status'] === 'success') {\r\n                    toast.success('Cuisine Updated')\r\n                    navigate('/cuisinesAll')\r\n                }\r\n                else {\r\n                    toast.error(result['error'])\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n    return <div className=\"container\">\r\n        <AdminHeader></AdminHeader>\r\n        <div className=\"main-div\">\r\n            <label className=\"emp-details\">Edit Cuisine</label>\r\n            <div className=\"row mb-3\">\r\n                <div className=\"col mb-3\">\r\n                    <label className=\"form-label\">Cuisine Name</label>\r\n                    <input onChange={\r\n                        (e) => {\r\n                            setName(e.target.value)\r\n                        }\r\n                    } type=\"text\" className=\"form-control\" defaultValue={cuisine.name}></input>\r\n                </div>\r\n                <div className=\"col mb-3\">\r\n                    <label className=\"form-label\">Cuisine Image Link</label>\r\n                    <input onChange={\r\n                        (e) => {\r\n                            setImage(e.target.value)\r\n                        }\r\n                    } type=\"text\" className=\"form-control\" defaultValue={cuisine.image} ></input>\r\n                </div>\r\n            </div>\r\n            <div className=\"mb-3\">\r\n                <label className=\"form-label\">Cuisine Description</label>\r\n                <textarea onChange={\r\n                    (e) => {\r\n                        setDescription(e.target.value)\r\n                    }\r\n                } className=\"form-control\" defaultValue={cuisine.description} rows=\"3\" ></textarea>\r\n            </div>\r\n            <div className=\"col-md-6 mb-3 btn-group\">\r\n                <button type=\"button\" className=\" btn btn-outline-secondary\" onClick={updateCuisine}>UPDATE</button>\r\n                <button type=\"button\" className=\" btn btn-outline-secondary\" onClick={() => {\r\n                    toast.warn('No Changes')\r\n                    navigate('/cuisinesAll')\r\n                }}>Cancel</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport default EditCuisine"]},"metadata":{},"sourceType":"module"}